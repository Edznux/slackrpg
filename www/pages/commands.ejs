<%- include partials/header.ejs %>
<%- include partials/navbar.ejs %>
<div class="container">
	
	<div class="row">
		<span class="flow-text">Liste des commandes disponible :</span>
	</div>

	<div class="row">
		<div class="col m10 s12 l8 offset-l2 offset-m1">
			<table class="striped centered" id="table-commands">
				<thead>
					<tr><th class="w5">Id</th><th class="w20">Nom</th><th class="w20">Fichier</th><th class="w20">Triggers</th><th class="w20">Activ√©</th></tr>
				</thead>
				<tbody>
					<% for (cmd in commands) { %>
						<tr>
							<td><%= commands[cmd].id %></td>
							<td>
								<input type="text" value="<%=commands[cmd].name%>" onchange="Commands.changeName(<%= commands[cmd].id %>, this)">
							</td>
							<td><input type="text" value="<%=commands[cmd].file_name%>" onchange="Commands.changeFileName(<%= commands[cmd].id %>, this)"></td>
							<td>

							<% t = commands[cmd].triggers.join(", ") %>
							<%= t %>
							</td>
							<td>
							 	<div class="switch">
									<label>
										<input type="checkbox" onclick="Commands.active(<%= commands[cmd].id %>)"
										<% if(commands[cmd].active == 1){ %>
											checked
										 <% } %>
										 >
										<span class="lever"></span>
									</label>
								</div>
							</td>
						</tr>
					<% } %>
				</tbody>
			</table>
		</div>
	</div>

	<div class="row">
		<div class="col s12 m12">
			<div class="float-right">
				<a href="#" onclick="Commands.add()" class="btn btn-floating btn-large waves-effect waves-light red"><i class="material-icons">add</i></a>	
			</div>
		</div>
	</div>
</div>
<%- include partials/script.ejs %>